admin => cung cấp tài khoản, mật khẩu

giao diện đăng nhập => chung
    - tùy role mà sẽ phục vụ các components khác nhau
    nguoidung collection -> dung cho đăng nhập
    {
        _id,
        hoten,
        sdt,
        cmnd,
        ngaysinh,
        email,
        diachi,
        taikhoan,
        matkhau,
        vaitro: ['admin', 'bophankd', 'giamsatvung', 'daily1', 'daily2', 'hodan']
    }
    

    hodan collections
    {
        _id,
        daidien,
        diachi,
        sdt,
        cmnd,
        ngaysinh,
        thanhvien[hoten, namesinh],
        taikhoan,
        matkhau,
        _idlangnghe,
        _iddaily2
    }

    congty collection
    {
        _id,
        tencty,
        diachi,
        sdt,
        email
    }

    langnghe {
        _id,
        tenlang,
        hodan: [Hodan]
    }

    loaisanpham {
        _id,
        tenloai,
        ghichu
    }

    sanpham {
        _id,
        sku (PVN05),
        ten,
        mota,
        giabanle (khach mua le),
        giabanbuon (khach mua voi sluong lon)
        hinhanh,
        thuoctinh: [{
            ten,
            giatri
        }],
        loai ['thucongmynghe', 'nongsan', 'nguenlieu'],
        nhanhieu,
        tags: [] (phục vụ cho việc lọc sp)
        chophepban: Boolean,
        apdungthue: Boolean,
        cotheban (so luong co the ban),
        ngaycapnhatcuoi,

    }

    congcu {
        _id,
        ten,
        mota,
        thuoctinh: [{
            ten,
            giatri
        }],
        hinhanh,
        congdung,
        soluong
    }

    nhanhieu {
        tennhanhieu,
        mota
    }

    donhang {
        _id
    }


    khachhang {
        _id,
        ten,
        sdt,
        ngaysinh,
        diachi,
        khuvuc,
        phuongxa,
        nhomkh: [vip, banbuon, banle],
        gioitinh: [nam, nu, khac],
        email
    }

    khohang {
        _id,
        sanpham: [Sanpham],
        tonkho
    }

    daily1 {
        _id,
        madaily
        ten,
        sdt,
        email,
        diachi,
        daily2: [Daily2]
    }

     daily2 {
        _id,
        daily1 [Daily1ID],
        madaily,
        ten,
        sdt,
        email,
        diachi,
        hodan: [Hodan]
    }


1 Lang nghe -> nhiều hộ dân <=> 1 hộ dân thuộc 1 làng nghề
1 hộ dân -> nghề khác/giống nhau
daily2 -> ql nhiều hộ dân <=> hộ dân thuộc 1 đại lý 2


bpkd -> quản lý đl1, đơn hàng, kho hàng, sản phẩm [categories: thucongmynghe, nongsan, nguyenlieu], công cụ


=> TẠO HÓA ĐƠN (khi bán tại quầy):
1. thêm sp vào dơn hàng
2. điều chỉnh thông tin sản phẩm (sửa số lượng, đơn giá, chiết khâu, xóa đi,...)
3. thêm khách hàng vào hđ (tìm theo tên, sđt, nếu ko chọn -> default khách lẻ. có thể thêm mới khách hàng tại đây)
4. chọn phương thức thanh toán (quẹt thể, COD, chuyển khoản, tiền mặt)
5. nhập tiền khách đưa (nhập số tiền khách đã thanh toán)
6. xem thông tin tiền thừa (xem số tienf cần trả cho khách nếu có)
7. nhấn nút thanh toán (sau đó có thể in ngay hóa đơn cho kh)
8. Sử dụng nút chức năng (thực hiện nghiệp vụ khi bán hàng tại quầy: đổi trả hàng, khuyến mãi, xem báo cáo,...)
=> giảm sl có thể bán xuống sau khi tạo


toastify --

import Toastify from "toastify-js";
import "toastify-js/src/toastify.css";
Toastify({
        text: "Then nhan hieu thanh cong",
        backgroundColor: "#0DB473",
        className: "toastifyInfo",
        position: "center",
      }).showToast();


DON NHAP HANG
    * chủ yếu nguyên liệu từ hộ dân
    - phân phát xuống đl 1 -> đl 2 -> hộ dân
1. dat hang
2. duyet / dang giao dich = n => hang dang ve (ton kho) = n
3. nhap kho => hang dang ve = 0 -> if(chua thanh toan) -> khong hoan thanh -> xac nhan thanh toan -> hoan thanh

// phân phát công cụ
- bophankd -> đại lý 1
    + case: nhận trực tiếp -> điền form
    + bokd gửi danh sách

component ngoai`
    button -> click -> open dialog

dialog component
    huy button -> click -> close dialog

moi dialog khac nhau -> title, content, button text 1, button text 2
    - button text 1 -> click -> close dialog
    - button text 2 -> click -> handleClick (component ngoai`)


Quản lý công cụ (đl1)
    - nhận công cụ từ cty gửi xuống hộ dân (CREATE)
        + nhận cc trực tiếp -> điền form -> nhập công cụ vào kho
        + cty gửi danh sách các công cụ sẽ phân phát xuống hộ dân -> lưu vào kho -> phân phát xuống đl2
    - nhận yêu cầu cấp công cụ từ đl2 (đl2 nhận yêu cầu từ hộ dân -> làm đơn gửi lên đl 1 -> đl1 gửi lên bpkd) (CREATE)
    - gửi yêu cầu công cụ lên bpkd
    - phân phát công cụ xuống đl 1 (DELETE)
    - show danh sách công cụ (READ)
    - công ty gửi 1 số công cụ trước cho hd, sau đó gửi thêm -> cập nhật lại kho công cụ (UPDATE)


1 bpkd - nhiều đl1 - nhiều đl 2- nhiều hd


=== BOKD PHAN SIDE
bpkd -> check box công cụ -> select option: phân phát xuống đl 1 -> xác nhận phân phát -> OK -> done
1. send:
{
    _id: pp1111
    items: [
        {
            congcu: ID111,
            soluong: 10
        },
        {
            congcu: ID222,
        soluong: 5
        },
]
    from: {
        user: User111,
        vaitro: 'bophankd'
    },
    to: {
        user: User222,
        vaitro: 'daily1'
    }
    trangthai: 'chờ XN'
    thieu: []
    hoanthanh: false,
}
2. store history

//=== DAI LY 1 SIDE
1. confirm
CASE: "daydu"
{
    _id: pp1111
    items: [
        {
            congcu: ID111,
            soluong: 10
        },
        {
            congcu: ID222,
            soluong: 5
        },
    ]
    from: {
        user: User111,
        vaitro: 'bophankd'
    },
    to: {
        user: User222,
        vaitro: 'daily1'
    }
    trangthai: 'Da XN'
    thieu: [],  
    hoanthanh: true,   
}   

CASE: "thieu"
{
    _id: pp1111
    items: [
        {
            congcu: ID111,
            soluong: 10
        },
        {
            congcu: ID222,
            soluong: 5
        },
    ]
    from: {
        user: User111,
        vaitro: 'bophankd'
    },
    to: {
        user: User222,
        vaitro: 'daily1'
    }
    trangthai: 'Da XN'
    thieu: [
        {
            congcu: ID222,
            soluongthieu: 3 --> slthieu <= slphanphat
        }
    ],   
    hoanthanh: false,   
}   
2. store history

//=== BO PHAN KD SIDE
if(trangthai="da XN" && hoanthanh === false)
1. send new:
{
    _id: pp2222
    items: [
        {
            ongcu: ID222,
            soluongthieu: 3
        },
    ]
    from: {
        user: User111,
        vaitro: 'bophankd'
    },
    to: {
        user: User222,
        vaitro: 'daily1'
    }
    trangthai: 'Cho XN'
    thieu: [],  
    hoanthanh: false,   
}  
2. set current:
 {
    ...
    hoanthanh: true,   
}   
3.store history



lichsu {
    _id,
    user: userID,
    thaotac: tenThaotac: String -- trien khai: thaotac.js (export const THEM_SAN_PHAM="Them san pham",...)
    thoigian (timestamp)
}
- C: create lich su
    + VD: sanphamRouter.js - themSanpham() -> (new Lichsu({ user: userid, thaotac: thaotac.THEM_SANPHAM })).save()
- R: Read history
    + Lichsu.find({user: current_userID})
- U: disable
- D: disable
- F: tim lich su theo ten thao tac, thoi gian (hom nay, hom qua, 1 thang truoc)




user {
    tk,
    mk, 
    vt
}

bophankd {
    ten,
    sdt,
    diachi,
    user: UserID
}
